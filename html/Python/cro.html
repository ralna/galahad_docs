
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>CRO &#8212; GALAHAD Python Interface 1.0 documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!-- 
    this give us a css class that will be invisible only if js is disabled 
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=26a4bc78f4c0ddb94549" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=26a4bc78f4c0ddb94549" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="_static/css/custom.css?v=a6bbf7ec" />
  
  <!-- So that users can add custom icons -->
  <script src="_static/scripts/fontawesome.js?digest=26a4bc78f4c0ddb94549"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=26a4bc78f4c0ddb94549" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=26a4bc78f4c0ddb94549" />

    <script src="_static/documentation_options.js?v=f2a433a1"></script>
    <script src="_static/doctools.js?v=888ff710"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script>window.MathJax = {"tex": {"inlineMath": [["\\(", "\\)"]], "displayMath": [["\\[", "\\]"]]}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'cro';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="DQP" href="dqp.html" />
    <link rel="prev" title="CQP" href="cqp.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="1.0" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  
    
  

<a class="navbar-brand logo" href="index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="_static/galahad.small.png" class="logo__image only-light" alt="GALAHAD Python Interface 1.0 documentation - Home"/>
    <img src="_static/galahad.small.png" class="logo__image only-dark pst-js-only" alt="GALAHAD Python Interface 1.0 documentation - Home"/>
  
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="uco.html">
    Unconstrained Optimization
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="bco.html">
    Bound-constrained Optimization
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="ls.html">
    Least-Squares
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="lp.html">
    Linear Programming
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="qp.html">
    Quadratic Programming
  </a>
</li>

            <li class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-controls="pst-nav-more-links">
                    More
                </button>
                <ul id="pst-nav-more-links" class="dropdown-menu">
                    
<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="reg.html">
    Regularization subproblems
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="sys.html">
    Linear Systems
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="go.html">
    Global Optimization
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="auxiliary.html">
    Auxiliary Procedures
  </a>
</li>

                </ul>
            </li>
            
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
        </div>
      
      
        <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
    </div>
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="uco.html">
    Unconstrained Optimization
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="bco.html">
    Bound-constrained Optimization
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="ls.html">
    Least-Squares
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="lp.html">
    Linear Programming
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="qp.html">
    Quadratic Programming
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="reg.html">
    Regularization subproblems
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="sys.html">
    Linear Systems
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="go.html">
    Global Optimization
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="auxiliary.html">
    Auxiliary Procedures
  </a>
</li>

  </ul>
</nav></div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><p aria-level="2" class="caption" role="heading"><span class="caption-text">Contents</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="bqp.html">BQP - bound-constrained quadratic programming using a preconditioned, projected-gradient method</a></li>
<li class="toctree-l1"><a class="reference internal" href="bqpb.html">BQPB - bound-constrained quadratic programming using an interior-point method</a></li>
<li class="toctree-l1"><a class="reference internal" href="cqp.html">CQP - convex quadratic programming using an interior-point method</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">CRO - crossover from an interior-point to basic solution for convex quadratic programming</a></li>
<li class="toctree-l1"><a class="reference internal" href="dqp.html">DQP - convex quadratic programming using a dual active-set method</a></li>
<li class="toctree-l1"><a class="reference internal" href="eqp.html">EQP - equality-constrained quadratic programming using an iterative method</a></li>
<li class="toctree-l1"><a class="reference internal" href="lsqp.html">LSQP - linear or separable convex quadratic programming using an interior-point trust-region method</a></li>
<li class="toctree-l1"><a class="reference internal" href="qpa.html">QPA - non-convex quadratic programming using an active-set method</a></li>
<li class="toctree-l1"><a class="reference internal" href="qpb.html">QPB - non-convex quadratic programming using an interior-point method</a></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">

<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="qp.html" class="nav-link">Quadratic Programming</a></li>
    
    <li class="breadcrumb-item active" aria-current="page"><span class="ellipsis">CRO</span></li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="module-galahad.cro">
<span id="cro"></span><h1>CRO<a class="headerlink" href="#module-galahad.cro" title="Link to this heading">#</a></h1>
<section id="purpose">
<h2>purpose<a class="headerlink" href="#purpose" title="Link to this heading">#</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">cro</span></code> package provides a <strong>crossover</strong> from a
<strong>primal-dual interior-point</strong>
solution to given <strong>convex quadratic program</strong> to a <strong>basic one</strong> in which
the matrix of defining active constraints/variables is of <strong>full rank</strong>.
This applies to the problem of minimizing the quadratic objective function
<div class="math notranslate nohighlight">
\[q(x) = f + g^T x + \frac{1}{2} x^T H x\]</div>

subject to the general linear constraints and simple bounds
<div class="math notranslate nohighlight">
\[c_l \leq A x \leq c_u \;\;\mbox{and} \;\; x_l \leq x \leq x_u,\]</div>

where <span class="math notranslate nohighlight">\(H\)</span> and <span class="math notranslate nohighlight">\(A\)</span> are, respectively, given
<span class="math notranslate nohighlight">\(n\)</span> by <span class="math notranslate nohighlight">\(n\)</span> symmetric postive-semi-definite and <span class="math notranslate nohighlight">\(m\)</span> by <span class="math notranslate nohighlight">\(n\)</span> matrices,
<span class="math notranslate nohighlight">\(g\)</span> is a vector, <span class="math notranslate nohighlight">\(f\)</span> is a scalar, and any of the components
of the vectors <span class="math notranslate nohighlight">\(c_l\)</span>, <span class="math notranslate nohighlight">\(c_u\)</span>, <span class="math notranslate nohighlight">\(x_l\)</span> or <span class="math notranslate nohighlight">\(x_u\)</span> may be infinite.
The method is most suitable for problems involving a large number of
unknowns <span class="math notranslate nohighlight">\(x\)</span>.</p>
<p>See Section 4 of $GALAHAD/doc/cro.pdf for additional details.</p>
</section>
<section id="terminology">
<h2>terminology<a class="headerlink" href="#terminology" title="Link to this heading">#</a></h2>
<p>Any required solution <span class="math notranslate nohighlight">\(x\)</span> necessarily satisfies
the <strong>primal optimality conditions</strong>
<div class="math notranslate nohighlight">
\[A x = c\]</div>

and
<div class="math notranslate nohighlight">
\[c_l \leq c \leq c_u, \;\; x_l \leq x \leq x_u,\]</div>

the <strong>dual optimality conditions</strong>
<div class="math notranslate nohighlight">
\[H x + g = A^{T} y + z,\;\;  y = y_l + y_u \;\;\mbox{and}\;\; z = z_l + z_u,\]</div>

and
<div class="math notranslate nohighlight">
\[y_l \geq 0, \;\; y_u \leq 0, \;\; z_l \geq 0
\;\;\mbox{and}\;\; z_u \leq 0,\;\;\mbox{(1)}\]</div>

and the <strong>complementary slackness conditions</strong>
<div class="math notranslate nohighlight">
\[( A x - c_l )^{T} y_l = 0,\;\; ( A x - c_u )^{T} y_u = 0,\;\;
(x -x_l )^{T} z_l = 0 \;\;\mbox{and}\;\;(x -x_u )^{T} z_u = 0,\]</div>

where the vectors <span class="math notranslate nohighlight">\(y\)</span> and <span class="math notranslate nohighlight">\(z\)</span> are known as the <strong>Lagrange multipliers</strong> for
the general linear constraints, and the <strong>dual variables</strong> for the bounds,
respectively, and where the vector inequalities hold component-wise.</p>
</section>
<section id="method">
<h2>method<a class="headerlink" href="#method" title="Link to this heading">#</a></h2>
<p>Denote the active constraints by <span class="math notranslate nohighlight">\(A_A x = c_A\)</span> and the
active bounds by <span class="math notranslate nohighlight">\(I_A x = x_A\)</span>. Then any optimal solution satisfies
the linear system
<div class="math notranslate nohighlight">
\[\begin{split}\left(\begin{array}{ccc}
H &amp; - A_A^T &amp; - I^T_A \\ A_A &amp; 0 &amp; 0 \\ I_A &amp; 0 &amp; 0
\end{array}\right) \left(\begin{array}{c}
x \\ y_A \\ z_A
\end{array}\right) = \left(\begin{array}{c}
- g \\ c_A \\ x_A
\end{array}\right), \end{split}\]</div>

where <span class="math notranslate nohighlight">\(y_A\)</span> and <span class="math notranslate nohighlight">\(z_A\)</span> are the corresponding active Lagrange multipliers
and dual variables respectively. Consequently the difference between
any two solutions <span class="math notranslate nohighlight">\((\Delta x, \Delta y, \Delta z)\)</span> must satisfy
<div class="math notranslate nohighlight">
\[\begin{split}\left(\begin{array}{ccc}
H &amp; - A_A^T &amp; - I^T_A \\ A_A &amp; 0 &amp; 0 \\ I_A &amp; 0 &amp; 0
\end{array}\right) \left(\begin{array}{c}
\Delta x \\ \Delta y_A \\ \Delta z_A
\end{array}\right) = 0.\;\;\mbox{(2)}\end{split}\]</div>

Thus there can only be multiple solution if the coefficient matrix <span class="math notranslate nohighlight">\(K\)</span>
of (2) is singular. The algorithm used in \fullpackagename\
exploits this. The matrix <span class="math notranslate nohighlight">\(K\)</span> is checked for singularity
using the package <code class="docutils literal notranslate"><span class="pre">ULS</span></code>. If <span class="math notranslate nohighlight">\(K\)</span> is
non singular, the solution is unique and the solution input by the user
provides a linearly independent active set. Otherwise <span class="math notranslate nohighlight">\(K\)</span> is singular,
and partitions <span class="math notranslate nohighlight">\(A_A^T = ( A_{AB}^T \;\; A_{AN}^T)\)</span> and
<span class="math notranslate nohighlight">\(I_A^T = ( I_{AB}^T \;\; I_{AN}^T)\)</span> are found so that
<div class="math notranslate nohighlight">
\[\begin{split}\left(\begin{array}{ccc}
H &amp; - A_{AB}^T &amp; - I^T_{AB} \\ A_{AB} &amp; 0 &amp; 0 \\  I_{AB} &amp; 0 &amp; 0
\end{array}\right)\end{split}\]</div>

is non-singular and the <em>non-basic</em> constraints <span class="math notranslate nohighlight">\(A_{AN}^T\)</span>
and <span class="math notranslate nohighlight">\(I_{AN}^T\)</span> are linearly dependent on the <em>basic</em> ones
<span class="math notranslate nohighlight">\(( A_{AB}^T \;\; I_{AB}^T)\)</span>. In this case (2) is equivalent to
<div class="math notranslate nohighlight">
\[\begin{split}\left(\begin{array}{ccc}
H &amp; - A_{AB}^T &amp; - I^T_{AB} \\ A_{AB} &amp; 0 &amp; 0 \\ I_{AB} &amp; 0 &amp; 0
\end{array}\right) \left(\begin{array}{c}
\Delta x \\ \Delta y_{AB} \\ \Delta z_{AB}
\end{array}\right) = \left(\begin{array}{c}
A_{AN}^T \\ 0 \\ 0
\end{array}\right) \Delta y_{AN} + \left(\begin{array}{c}
I^T_{AN} \\ 0 \\ 0
\end{array}\right) \Delta z_{AN} .\;\;\mbox{(3)}\end{split}\]</div>

Thus, starting from the user’s <span class="math notranslate nohighlight">\((x, y, z)\)</span>
and with a factorization of the coefficient matrix of (3)
found by the package <code class="docutils literal notranslate"><span class="pre">SLS</span></code>,
the alternative solution <span class="math notranslate nohighlight">\((x + \alpha x, y + \alpha y, z + \alpha z)\)</span>,
featuring <span class="math notranslate nohighlight">\((\Delta x, \Delta y_{AB}, \Delta z_{AB})\)</span> from (3)
in which successively one of the components of <span class="math notranslate nohighlight">\(\Delta y_{AN}\)</span>
and <span class="math notranslate nohighlight">\(\Delta z_{AN}\)</span> in turn is non zero, is taken.
The scalar <span class="math notranslate nohighlight">\(\alpha\)</span> at each stage
is chosen to be the largest possible that guarantees (1);
this may happen when a non-basic multiplier/dual variable reaches zero,
in which case the corresponding constraint is disregarded, or when this
happens for a basic multiplier/dual variable, in which case this constraint is
exchanged with the non-basic one under consideration and disregarded.
The latter corresponds to changing the basic-non-basic partition
in (3), and subsequent solutions may be found by updating
the factorization of the coefficient matrix in (3)
following the basic-non-basic swap using the package <code class="docutils literal notranslate"><span class="pre">SCU</span></code>.</p>
</section>
<section id="matrix-storage">
<h2>matrix storage<a class="headerlink" href="#matrix-storage" title="Link to this heading">#</a></h2>
<p>The <strong>unsymmetric</strong> <span class="math notranslate nohighlight">\(m\)</span> by <span class="math notranslate nohighlight">\(n\)</span> matrix <span class="math notranslate nohighlight">\(A\)</span> must be presented
and stored in <em>sparse row-wise storage</em> format.
For this, only the nonzero entries are stored, and they are
ordered so that those in row i appear directly before those
in row i+1. For the i-th row of <span class="math notranslate nohighlight">\(A\)</span> the i-th component of the
integer array A_ptr holds the position of the first entry in this row,
while A_ptr(m) holds the total number of entries.
The column indices j, <span class="math notranslate nohighlight">\(0 \leq j \leq n-1\)</span>, and values
<span class="math notranslate nohighlight">\(A_{ij}\)</span> of the  nonzero entries in the i-th row are stored in components
l = A_ptr(i), <span class="math notranslate nohighlight">\(\ldots\)</span>, A_ptr(i+1)-1,  <span class="math notranslate nohighlight">\(0 \leq i \leq m-1\)</span>,
of the integer array A_col, and real array A_val, respectively.</p>
<p>The <strong>symmetric</strong> <span class="math notranslate nohighlight">\(n\)</span> by <span class="math notranslate nohighlight">\(n\)</span> matrix <span class="math notranslate nohighlight">\(H\)</span> must also be presented
and stored in <em>sparse row-wise storage</em> format. But, crucially, now symmetry
is exploited by only storing values from the <em>lower triangular</em> part
(i.e, those entries that lie on or below the leading diagonal).
As before, only the nonzero entries of the matrices are stored.
Only the nonzero entries from the lower triangle are stored, and
these are ordered so that those in row i appear directly before those
in row i+1. For the i-th row of <span class="math notranslate nohighlight">\(H\)</span> the i-th component of the
integer array H_ptr holds the position of the first entry in this row,
while H_ptr(n) holds the total number of entries.
The column indices j, <span class="math notranslate nohighlight">\(0 \leq j \leq i\)</span>, and values
<span class="math notranslate nohighlight">\(H_{ij}\)</span> of the  entries in the i-th row are stored in components
l = H_ptr(i), …, H_ptr(i+1)-1 of the
integer array H_col, and real array H_val, respectively.</p>
</section>
<section id="functions">
<h2>functions<a class="headerlink" href="#functions" title="Link to this heading">#</a></h2>
<blockquote>
<div><dl class="py function">
<dt class="sig sig-object py" id="galahad.cro.cro.initialize">
<span class="sig-prename descclassname"><span class="pre">cro.</span></span><span class="sig-name descname"><span class="pre">initialize</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#galahad.cro.cro.initialize" title="Link to this definition">#</a></dt>
<dd><p>Set default option values and initialize private data</p>
<p><strong>Returns:</strong></p>
<dl>
<dt>options<span class="classifier">dict</span></dt><dd><dl>
<dt>dictionary containing default control options:</dt><dd><dl>
<dt>error<span class="classifier">int</span></dt><dd><p>error and warning diagnostics occur on stream error.</p>
</dd>
<dt>out<span class="classifier">int</span></dt><dd><p>general output occurs on stream out.</p>
</dd>
<dt>print_level<span class="classifier">int</span></dt><dd><p>the level of output required is specified by print_level.
Possible values are</p>
<ul>
<li><p><strong>&lt;=0</strong></p>
<p>gives no output.</p>
</li>
<li><p><strong>1</strong></p>
<p>a summary of the progress made.</p>
</li>
<li><p><strong>&gt;=2</strong></p>
<p>an ever increasing amount of debugging information.</p>
</li>
</ul>
</dd>
<dt>max_schur_complement<span class="classifier">int</span></dt><dd><p>the maximum permitted size of the Schur complement before
a refactorization is performed.</p>
</dd>
<dt>infinity<span class="classifier">float</span></dt><dd><p>any bound larger than infinity in modulus will be regarded
as infinite.</p>
</dd>
<dt>feasibility_tolerance<span class="classifier">float</span></dt><dd><p>feasibility tolerance for KKT violation.</p>
</dd>
<dt>check_io<span class="classifier">bool</span></dt><dd><p>if <code class="docutils literal notranslate"><span class="pre">check_io</span></code> is True, the input (x,y,z) will be fully
tested for consistency.</p>
</dd>
<dt>refine_solution<span class="classifier">bool</span></dt><dd><p>if <code class="docutils literal notranslate"><span class="pre">refine</span></code> solution is True, attempt to satisfy the KKT
conditions as accurately as possible.</p>
</dd>
<dt>space_critical<span class="classifier">bool</span></dt><dd><p>if <code class="docutils literal notranslate"><span class="pre">space_critical</span></code> is True, every effort will be made
to use as little space as possible. This may result in
longer computation time.</p>
</dd>
<dt>deallocate_error_fatal<span class="classifier">bool</span></dt><dd><p>if <code class="docutils literal notranslate"><span class="pre">deallocate_error_fatal</span></code> is True, any array/pointer
deallocation error will terminate execution. Otherwise,
computation will continue.</p>
</dd>
<dt>symmetric_linear_solver<span class="classifier">str</span></dt><dd><p>indefinite linear equation solver.</p>
</dd>
<dt>unsymmetric_linear_solver<span class="classifier">str</span></dt><dd><p>unsymmetric linear equation solver.</p>
</dd>
<dt>prefix<span class="classifier">str</span></dt><dd><p>all output lines will be prefixed by the string contained
in quotes within <code class="docutils literal notranslate"><span class="pre">prefix</span></code>, e.g. ‘word’ (note the qutoes)
will result in the prefix word.</p>
</dd>
<dt>sls_options<span class="classifier">dict</span></dt><dd><p>default control options for SLS (see <code class="docutils literal notranslate"><span class="pre">sls.initialize</span></code>).</p>
</dd>
<dt>uls_options<span class="classifier">dict</span></dt><dd><p>default control options for ULS (see <code class="docutils literal notranslate"><span class="pre">uls.initialize</span></code>).</p>
</dd>
<dt>sbls_options<span class="classifier">dict</span></dt><dd><p>default control options for SBLS (see <code class="docutils literal notranslate"><span class="pre">sbls.initialize</span></code>).</p>
</dd>
<dt>ir_options<span class="classifier">dict</span></dt><dd><p>default control options for IR (see <code class="docutils literal notranslate"><span class="pre">ir.initialize</span></code>).</p>
</dd>
</dl>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="galahad.cro.cro.crossover_solution">
<span class="sig-prename descclassname"><span class="pre">cro.</span></span><span class="sig-name descname"><span class="pre">crossover_solution</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">m</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">m_equal</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">g</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">H_ne</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">H_val</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">H_col</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">H_ptr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">A_ne</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">A_val</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">A_col</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">A_ptr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">c_l</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">c_u</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_l</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_u</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">c</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_stat</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">c_stat</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">options</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#galahad.cro.cro.crossover_solution" title="Link to this definition">#</a></dt>
<dd><p>Crossover a primal-dual interior-point solution to a basic one.</p>
<p><strong>Parameters:</strong></p>
<dl class="simple">
<dt>n<span class="classifier">int</span></dt><dd><p>holds the number of variables.</p>
</dd>
<dt>m<span class="classifier">int</span></dt><dd><p>holds the number of constraints.</p>
</dd>
<dt>m_equal<span class="classifier">int</span></dt><dd><p>holds the number of equality constraints. These <strong>must</strong> occur
first in <span class="math notranslate nohighlight">\(A\)</span>.</p>
</dd>
<dt>g<span class="classifier">ndarray(n)</span></dt><dd><p>holds the values of the linear term <span class="math notranslate nohighlight">\(g\)</span> in the objective function.</p>
</dd>
<dt>H_ne<span class="classifier">int</span></dt><dd><p>holds the number of entries in the lower triangular part of <span class="math notranslate nohighlight">\(H\)</span>.</p>
</dd>
<dt>H_val<span class="classifier">ndarray(H_ptr(n)-1)</span></dt><dd><p>holds the values of the nonzeros of the lower triangular
part of <span class="math notranslate nohighlight">\(H\)</span> in the sparse row-wise storage scheme.</p>
</dd>
<dt>H_col<span class="classifier">ndarray(H_ptr(n)-1)</span></dt><dd><p>holds the column indices of the nonzeros of the lower triangular
part of <span class="math notranslate nohighlight">\(H\)</span> in the sparse row-wise storage scheme.</p>
</dd>
<dt>H_ptr<span class="classifier">ndarray(n+1)</span></dt><dd><p>holds the starting position of each row of the lower triangular
part of <span class="math notranslate nohighlight">\(H\)</span>, as well as the total number of entries.</p>
</dd>
<dt>A_ne<span class="classifier">int</span></dt><dd><p>holds the number of entries in <span class="math notranslate nohighlight">\(A\)</span>.</p>
</dd>
<dt>A_val<span class="classifier">ndarray(A_ptr(m)-1)</span></dt><dd><p>holds the values of the nonzeros of <span class="math notranslate nohighlight">\(A\)</span> in the sparse row-wise
storage scheme.</p>
</dd>
<dt>A_col<span class="classifier">ndarray(A_ptr(m)-1)</span></dt><dd><p>holds the column indices  of the nonzeros of <span class="math notranslate nohighlight">\(A\)</span> in the sparse
row-wise storage scheme.</p>
</dd>
<dt>A_ptr<span class="classifier">ndarray(m+1)</span></dt><dd><p>holds the starting position of each row of <span class="math notranslate nohighlight">\(A\)</span>, as well as the
total number of entries.</p>
</dd>
<dt>c_l<span class="classifier">ndarray(m)</span></dt><dd><p>holds the values of the lower bounds <span class="math notranslate nohighlight">\(c_l\)</span> on the constraints
The lower bound on any component of <span class="math notranslate nohighlight">\(A x\)</span> that is unbounded from
below should be set no larger than minus <code class="docutils literal notranslate"><span class="pre">options.infinity</span></code>.</p>
</dd>
<dt>c_u<span class="classifier">ndarray(m)</span></dt><dd><p>holds the values of the upper bounds <span class="math notranslate nohighlight">\(c_l\)</span> on the  constraints
The upper bound on any component of <span class="math notranslate nohighlight">\(A x\)</span> that is unbounded from
above should be set no smaller than <code class="docutils literal notranslate"><span class="pre">options.infinity</span></code>.</p>
</dd>
<dt>x_l<span class="classifier">ndarray(n)</span></dt><dd><p>holds the values of the lower bounds <span class="math notranslate nohighlight">\(x_l\)</span> on the variables.
The lower bound on any component of <span class="math notranslate nohighlight">\(x\)</span> that is unbounded from
below should be set no larger than minus <code class="docutils literal notranslate"><span class="pre">options.infinity</span></code>.</p>
</dd>
<dt>x_u<span class="classifier">ndarray(n)</span></dt><dd><p>holds the values of the upper bounds <span class="math notranslate nohighlight">\(x_l\)</span> on the variables.
The upper bound on any component of <span class="math notranslate nohighlight">\(x\)</span> that is unbounded from
above should be set no smaller than <code class="docutils literal notranslate"><span class="pre">options.infinity</span></code>.</p>
</dd>
<dt>x<span class="classifier">ndarray(n)</span></dt><dd><p>holds the values of the approximate minimizer <span class="math notranslate nohighlight">\(x\)</span>.</p>
</dd>
<dt>c<span class="classifier">ndarray(m)</span></dt><dd><p>holds the values of the residuals <span class="math notranslate nohighlight">\(c(x) = Ax\)</span>.</p>
</dd>
<dt>y<span class="classifier">ndarray(m)</span></dt><dd><p>holds the values of the Lagrange multipliers associated with the
general linear constraints.</p>
</dd>
<dt>z<span class="classifier">ndarray(n)</span></dt><dd><p>holds the values of the dual variables associated with the
simple bound constraints.</p>
</dd>
<dt>x_stat<span class="classifier">ndarray(n)</span></dt><dd><p>holds the input status for each variable. The i-th component will be
negative if the <span class="math notranslate nohighlight">\(i\)</span>-th variable lies on its lower bound,
positive if it lies on its upper bound, and zero if it lies
between bounds.</p>
</dd>
<dt>c_stat<span class="classifier">ndarray(m)</span></dt><dd><p>holds the input status for each constraint. The i-th component will
be negative if the value of the <span class="math notranslate nohighlight">\(i\)</span>-th constraint <span class="math notranslate nohighlight">\((Ax)_i\)</span>) lies on
its lower bound, positive if it lies on its upper bound, and
zero if it lies between bounds.</p>
</dd>
<dt>options<span class="classifier">dict, optional</span></dt><dd><p>dictionary of control options (see <code class="docutils literal notranslate"><span class="pre">cro.initialize</span></code>).</p>
</dd>
</dl>
<p><strong>Returns:</strong></p>
<dl>
<dt>x<span class="classifier">ndarray(n)</span></dt><dd><p>holds the values of the approximate minimizer <span class="math notranslate nohighlight">\(x\)</span> after
a successful call.</p>
</dd>
<dt>y<span class="classifier">ndarray(m)</span></dt><dd><p>holds the values of the Lagrange multipliers associated with the
general linear constraints.</p>
</dd>
<dt>z<span class="classifier">ndarray(n)</span></dt><dd><p>holds the values of the dual variables associated with the
simple bound constraints.</p>
</dd>
<dt>c_stat<span class="classifier">ndarray(m)</span></dt><dd><p>holds the return status for each constraint. The i-th component will
be -1 if the value of the <span class="math notranslate nohighlight">\(i\)</span>-th constraint <span class="math notranslate nohighlight">\((Ax)_i\)</span>) lies on
its lower bound and the constraint is basic and active, -2
if it is non-basic and active, 1 if it lies on its upper bound
and is active, 2 if it non-basic and active, and
0 if it lies between bounds.</p>
</dd>
<dt>x_stat<span class="classifier">ndarray(n)</span></dt><dd><p>holds the return status for each variable. The i-th component will
be -1 if the <span class="math notranslate nohighlight">\(i\)</span>-th variable lies on
its lower bound and the variable is basic and active, -2
if it is non-basic and active, 1 if it lies on its upper bound
and is active, 2 if it non-basic and active, and
0 if it lies between bounds.</p>
</dd>
<dt>inform<span class="classifier">dict</span></dt><dd><dl>
<dt>dictionary containing output information:</dt><dd><dl>
<dt>status<span class="classifier">int</span></dt><dd><p>return status.  Possible values are:</p>
<ul>
<li><p><strong>0</strong></p>
<p>The run was successful.</p>
</li>
<li><p><strong>-1</strong></p>
<p>An allocation error occurred. A message indicating the
offending array is written on unit options[‘error’], and
the returned allocation status and a string containing
the name of the offending array are held in
inform[‘alloc_status’] and inform[‘bad_alloc’] respectively.</p>
</li>
<li><p><strong>-2</strong></p>
<p>A deallocation error occurred.  A message indicating the
offending array is written on unit options[‘error’] and
the returned allocation status and a string containing
the name of the offending array are held in
inform[‘alloc_status’] and inform[‘bad_alloc’] respectively.</p>
</li>
<li><p><strong>-3</strong></p>
<p>The restriction n &gt; 0 or m &gt; 0 or 0 &lt;= m_equal &lt;= m
has been violated.</p>
</li>
<li><p><strong>-4</strong></p>
<p>The bound constraints are inconsistent.</p>
</li>
<li><p><strong>-5</strong></p>
<p>The constraints appear to have no feasible point.</p>
</li>
<li><p><strong>-9</strong></p>
<p>The analysis phase of the factorization failed; the return
status from the factorization package is given by
inform[‘factor_status’].</p>
</li>
<li><p><strong>-10</strong></p>
<p>The factorization failed; the return status from the
factorization package is given by inform[‘factor_status’].</p>
</li>
<li><p><strong>-11</strong></p>
<p>The solution of a set of linear equations using factors
from the factorization package failed; the return status
from the factorization package is given by
inform[‘factor_status’].</p>
</li>
<li><p><strong>-12</strong></p>
<p>The analysis phase of an unsymmetric factorization failed; the
return status from the factorization package is given by
inform[‘factor_status’].</p>
</li>
<li><p><strong>-13</strong></p>
<p>An unsymmetric factorization failed; the return status from the
factorization package is given by inform[‘factor_status’].</p>
</li>
<li><p><strong>-14</strong></p>
<p>The solution of a set of linear equations using factors
from an unsymmetric factorization package failed; the return
status from the factorization package is given by
inform[‘factor_status’].</p>
</li>
<li><p><strong>-16</strong></p>
<p>The resuduals are large, the factorization may be unsatisfactory.</p>
</li>
</ul>
</dd>
<dt>alloc_status<span class="classifier">int</span></dt><dd><p>the status of the last attempted allocation/deallocation.</p>
</dd>
<dt>bad_alloc<span class="classifier">str</span></dt><dd><p>the name of the array for which an allocation/deallocation
error occurred.</p>
</dd>
<dt>dependent<span class="classifier">int</span></dt><dd><p>the number of dependent active constraints.</p>
</dd>
<dt>time<span class="classifier">dict</span></dt><dd><dl class="simple">
<dt>dictionary containing timing information:</dt><dd><dl class="simple">
<dt>total<span class="classifier">float</span></dt><dd><p>the total CPU time spent in the package.</p>
</dd>
<dt>analyse<span class="classifier">float</span></dt><dd><p>the CPU time spent reordering the matrix prior to
factorization.</p>
</dd>
<dt>factorize<span class="classifier">float</span></dt><dd><p>the CPU time spent factorizing the required matrices.</p>
</dd>
<dt>solve<span class="classifier">float</span></dt><dd><p>the CPU time spent computing corrections.</p>
</dd>
<dt>clock_total<span class="classifier">float</span></dt><dd><p>the total clock time spent in the package.</p>
</dd>
<dt>clock_analyse<span class="classifier">float</span></dt><dd><p>the clock time spent analysing the required matrices prior
to factorizat.</p>
</dd>
<dt>clock_factorize<span class="classifier">float</span></dt><dd><p>the clock time spent factorizing the required matrices.</p>
</dd>
<dt>clock_solve<span class="classifier">float</span></dt><dd><p>the clock time spent computing corrections.</p>
</dd>
</dl>
</dd>
</dl>
</dd>
<dt>sls_inform<span class="classifier">dict</span></dt><dd><p>inform parameters for SLS (see <code class="docutils literal notranslate"><span class="pre">sls.information</span></code>).</p>
</dd>
<dt>uls_inform<span class="classifier">dict</span></dt><dd><p>inform parameters for ULS (see <code class="docutils literal notranslate"><span class="pre">uls.information</span></code>).</p>
</dd>
<dt>sbls_inform<span class="classifier">dict</span></dt><dd><p>inform parameters for SBLS (see <code class="docutils literal notranslate"><span class="pre">sbls.information</span></code>).</p>
</dd>
<dt>scu_status<span class="classifier">int</span></dt><dd><p>status value for SCU (see <code class="docutils literal notranslate"><span class="pre">scu.status</span></code>).</p>
</dd>
<dt>scu_inform<span class="classifier">dict</span></dt><dd><p>inform parameters for SCU (see <code class="docutils literal notranslate"><span class="pre">scu.information</span></code>).</p>
</dd>
<dt>ir_inform<span class="classifier">dict</span></dt><dd><p>return information from IR (see <code class="docutils literal notranslate"><span class="pre">ir.information</span></code>).</p>
</dd>
</dl>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="galahad.cro.cro.terminate">
<span class="sig-prename descclassname"><span class="pre">cro.</span></span><span class="sig-name descname"><span class="pre">terminate</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#galahad.cro.cro.terminate" title="Link to this definition">#</a></dt>
<dd><p>Deallocate all internal private storage.</p>
</dd></dl>

</div></blockquote>
</section>
<section id="example-code">
<h2>example code<a class="headerlink" href="#example-code" title="Link to this heading">#</a></h2>
<pre class="code python literal-block"><code><span class="keyword namespace">from</span> <span class="name namespace">galahad</span> <span class="keyword namespace">import</span> <span class="name">cro</span><span class="whitespace">
</span><span class="keyword namespace">import</span> <span class="name namespace">numpy</span> <span class="keyword">as</span> <span class="name namespace">np</span><span class="whitespace">
</span><span class="name">np</span><span class="operator">.</span><span class="name">set_printoptions</span><span class="punctuation">(</span><span class="name">precision</span><span class="operator">=</span><span class="literal number integer">4</span><span class="punctuation">,</span><span class="name">suppress</span><span class="operator">=</span><span class="keyword constant">True</span><span class="punctuation">,</span><span class="name">floatmode</span><span class="operator">=</span><span class="literal string single">'fixed'</span><span class="punctuation">)</span><span class="whitespace">
</span><span class="name builtin">print</span><span class="punctuation">(</span><span class="literal string double">&quot;</span><span class="literal string escape">\n</span><span class="literal string double">** python test: cro&quot;</span><span class="punctuation">)</span><span class="whitespace">

</span><span class="comment single"># set parameters</span><span class="whitespace">
</span><span class="name">n</span> <span class="operator">=</span> <span class="literal number integer">11</span><span class="whitespace">
</span><span class="name">m</span> <span class="operator">=</span> <span class="literal number integer">3</span><span class="whitespace">
</span><span class="name">m_equal</span> <span class="operator">=</span> <span class="literal number integer">1</span><span class="whitespace">
</span><span class="name">infinity</span> <span class="operator">=</span> <span class="name builtin">float</span><span class="punctuation">(</span><span class="literal string double">&quot;inf&quot;</span><span class="punctuation">)</span><span class="whitespace">

</span><span class="comment single">#  describe objective function</span><span class="whitespace">

</span><span class="name">g</span> <span class="operator">=</span> <span class="name">np</span><span class="operator">.</span><span class="name">array</span><span class="punctuation">([</span><span class="literal number float">0.5</span><span class="punctuation">,</span><span class="operator">-</span><span class="literal number float">0.5</span><span class="punctuation">,</span><span class="operator">-</span><span class="literal number float">1.0</span><span class="punctuation">,</span><span class="operator">-</span><span class="literal number float">1.0</span><span class="punctuation">,</span><span class="operator">-</span><span class="literal number float">1.0</span><span class="punctuation">,</span> <span class="operator">-</span><span class="literal number float">1.0</span><span class="punctuation">,</span><span class="operator">-</span><span class="literal number float">1.0</span><span class="punctuation">,</span><span class="operator">-</span><span class="literal number float">1.0</span><span class="punctuation">,</span><span class="operator">-</span><span class="literal number float">1.0</span><span class="punctuation">,</span><span class="operator">-</span><span class="literal number float">1.0</span><span class="punctuation">,</span><span class="operator">-</span><span class="literal number float">0.5</span><span class="punctuation">])</span><span class="whitespace">
</span><span class="name">H_ne</span> <span class="operator">=</span> <span class="literal number integer">21</span><span class="whitespace">
</span><span class="name">H_val</span> <span class="operator">=</span> <span class="name">np</span><span class="operator">.</span><span class="name">array</span><span class="punctuation">([</span><span class="literal number float">1.0</span><span class="punctuation">,</span><span class="literal number float">0.5</span><span class="punctuation">,</span><span class="literal number float">1.0</span><span class="punctuation">,</span><span class="literal number float">0.5</span><span class="punctuation">,</span><span class="literal number float">1.0</span><span class="punctuation">,</span><span class="literal number float">0.5</span><span class="punctuation">,</span><span class="literal number float">1.0</span><span class="punctuation">,</span><span class="literal number float">0.5</span><span class="punctuation">,</span><span class="literal number float">1.0</span><span class="punctuation">,</span><span class="literal number float">0.5</span><span class="punctuation">,</span><span class="literal number float">1.0</span><span class="punctuation">,</span><span class="literal number float">0.5</span><span class="punctuation">,</span><span class="literal number float">1.0</span><span class="punctuation">,</span><span class="whitespace">
</span>                  <span class="literal number float">0.5</span><span class="punctuation">,</span><span class="literal number float">1.0</span><span class="punctuation">,</span><span class="literal number float">0.5</span><span class="punctuation">,</span><span class="literal number float">1.0</span><span class="punctuation">,</span><span class="literal number float">0.5</span><span class="punctuation">,</span><span class="literal number float">1.0</span><span class="punctuation">,</span><span class="literal number float">0.5</span><span class="punctuation">,</span><span class="literal number float">1.0</span><span class="punctuation">])</span><span class="whitespace">
</span><span class="name">H_col</span> <span class="operator">=</span> <span class="name">np</span><span class="operator">.</span><span class="name">array</span><span class="punctuation">([</span><span class="literal number integer">0</span><span class="punctuation">,</span><span class="literal number integer">0</span><span class="punctuation">,</span><span class="literal number integer">1</span><span class="punctuation">,</span><span class="literal number integer">1</span><span class="punctuation">,</span><span class="literal number integer">2</span><span class="punctuation">,</span><span class="literal number integer">2</span><span class="punctuation">,</span><span class="literal number integer">3</span><span class="punctuation">,</span><span class="literal number integer">3</span><span class="punctuation">,</span><span class="literal number integer">4</span><span class="punctuation">,</span><span class="literal number integer">4</span><span class="punctuation">,</span><span class="literal number integer">5</span><span class="punctuation">,</span><span class="literal number integer">5</span><span class="punctuation">,</span><span class="literal number integer">6</span><span class="punctuation">,</span><span class="literal number integer">6</span><span class="punctuation">,</span><span class="literal number integer">7</span><span class="punctuation">,</span><span class="literal number integer">7</span><span class="punctuation">,</span><span class="literal number integer">8</span><span class="punctuation">,</span><span class="literal number integer">8</span><span class="punctuation">,</span><span class="literal number integer">9</span><span class="punctuation">,</span><span class="literal number integer">9</span><span class="punctuation">,</span><span class="literal number integer">10</span><span class="punctuation">])</span><span class="whitespace">
</span><span class="name">H_ptr</span> <span class="operator">=</span> <span class="name">np</span><span class="operator">.</span><span class="name">array</span><span class="punctuation">([</span><span class="literal number integer">0</span><span class="punctuation">,</span><span class="literal number integer">1</span><span class="punctuation">,</span><span class="literal number integer">3</span><span class="punctuation">,</span><span class="literal number integer">5</span><span class="punctuation">,</span><span class="literal number integer">7</span><span class="punctuation">,</span><span class="literal number integer">9</span><span class="punctuation">,</span><span class="literal number integer">11</span><span class="punctuation">,</span><span class="literal number integer">13</span><span class="punctuation">,</span><span class="literal number integer">15</span><span class="punctuation">,</span><span class="literal number integer">17</span><span class="punctuation">,</span><span class="literal number integer">19</span><span class="punctuation">,</span><span class="literal number integer">21</span><span class="punctuation">])</span><span class="whitespace">

</span><span class="comment single">#  describe constraints</span><span class="whitespace">

</span><span class="name">A_ne</span> <span class="operator">=</span> <span class="literal number integer">30</span><span class="whitespace">
</span><span class="name">A_val</span> <span class="operator">=</span> <span class="name">np</span><span class="operator">.</span><span class="name">array</span><span class="punctuation">([</span><span class="literal number float">1.0</span><span class="punctuation">,</span><span class="literal number float">1.0</span><span class="punctuation">,</span><span class="literal number float">1.0</span><span class="punctuation">,</span><span class="literal number float">1.0</span><span class="punctuation">,</span><span class="literal number float">1.0</span><span class="punctuation">,</span><span class="literal number float">1.0</span><span class="punctuation">,</span><span class="literal number float">1.0</span><span class="punctuation">,</span><span class="literal number float">1.0</span><span class="punctuation">,</span><span class="literal number float">1.0</span><span class="punctuation">,</span><span class="literal number float">1.0</span><span class="punctuation">,</span><span class="literal number float">1.0</span><span class="punctuation">,</span><span class="literal number float">1.0</span><span class="punctuation">,</span><span class="whitespace">
</span>                  <span class="literal number float">1.0</span><span class="punctuation">,</span><span class="literal number float">1.0</span><span class="punctuation">,</span><span class="literal number float">1.0</span><span class="punctuation">,</span><span class="literal number float">1.0</span><span class="punctuation">,</span><span class="literal number float">1.0</span><span class="punctuation">,</span><span class="literal number float">1.0</span><span class="punctuation">,</span><span class="literal number float">1.0</span><span class="punctuation">,</span><span class="literal number float">1.0</span><span class="punctuation">,</span><span class="literal number float">1.0</span><span class="punctuation">,</span><span class="literal number float">1.0</span><span class="punctuation">,</span><span class="literal number float">1.0</span><span class="punctuation">,</span><span class="literal number float">1.0</span><span class="punctuation">,</span><span class="whitespace">
</span>                  <span class="literal number float">1.0</span><span class="punctuation">,</span><span class="literal number float">1.0</span><span class="punctuation">,</span><span class="literal number float">1.0</span><span class="punctuation">,</span><span class="literal number float">1.0</span><span class="punctuation">,</span><span class="literal number float">1.0</span><span class="punctuation">,</span><span class="literal number float">1.0</span><span class="punctuation">])</span><span class="whitespace">
</span><span class="name">A_col</span> <span class="operator">=</span> <span class="name">np</span><span class="operator">.</span><span class="name">array</span><span class="punctuation">([</span><span class="literal number integer">0</span><span class="punctuation">,</span><span class="literal number integer">1</span><span class="punctuation">,</span><span class="literal number integer">2</span><span class="punctuation">,</span><span class="literal number integer">3</span><span class="punctuation">,</span><span class="literal number integer">4</span><span class="punctuation">,</span><span class="literal number integer">5</span><span class="punctuation">,</span><span class="literal number integer">6</span><span class="punctuation">,</span><span class="literal number integer">7</span><span class="punctuation">,</span><span class="literal number integer">8</span><span class="punctuation">,</span><span class="literal number integer">9</span><span class="punctuation">,</span><span class="literal number integer">10</span><span class="punctuation">,</span><span class="literal number integer">2</span><span class="punctuation">,</span><span class="literal number integer">3</span><span class="punctuation">,</span><span class="literal number integer">4</span><span class="punctuation">,</span><span class="literal number integer">5</span><span class="punctuation">,</span><span class="literal number integer">6</span><span class="punctuation">,</span><span class="literal number integer">7</span><span class="punctuation">,</span><span class="literal number integer">8</span><span class="punctuation">,</span><span class="literal number integer">9</span><span class="punctuation">,</span><span class="literal number integer">10</span><span class="punctuation">,</span><span class="whitespace">
</span>                  <span class="literal number integer">1</span><span class="punctuation">,</span><span class="literal number integer">2</span><span class="punctuation">,</span><span class="literal number integer">3</span><span class="punctuation">,</span><span class="literal number integer">4</span><span class="punctuation">,</span><span class="literal number integer">5</span><span class="punctuation">,</span><span class="literal number integer">6</span><span class="punctuation">,</span><span class="literal number integer">7</span><span class="punctuation">,</span><span class="literal number integer">8</span><span class="punctuation">,</span><span class="literal number integer">9</span><span class="punctuation">,</span><span class="literal number integer">10</span><span class="punctuation">])</span><span class="whitespace">
</span><span class="name">A_ptr</span> <span class="operator">=</span> <span class="name">np</span><span class="operator">.</span><span class="name">array</span><span class="punctuation">([</span><span class="literal number integer">0</span><span class="punctuation">,</span><span class="literal number integer">11</span><span class="punctuation">,</span><span class="literal number integer">20</span><span class="punctuation">,</span><span class="literal number integer">30</span><span class="punctuation">])</span><span class="whitespace">
</span><span class="name">c_l</span> <span class="operator">=</span> <span class="name">np</span><span class="operator">.</span><span class="name">array</span><span class="punctuation">([</span><span class="literal number float">10.0</span><span class="punctuation">,</span><span class="literal number float">9.0</span><span class="punctuation">,</span><span class="operator">-</span><span class="name">infinity</span><span class="punctuation">])</span><span class="whitespace">
</span><span class="name">c_u</span> <span class="operator">=</span> <span class="name">np</span><span class="operator">.</span><span class="name">array</span><span class="punctuation">([</span><span class="literal number float">10.0</span><span class="punctuation">,</span><span class="name">infinity</span><span class="punctuation">,</span><span class="literal number float">10.0</span><span class="punctuation">])</span><span class="whitespace">
</span><span class="name">x_l</span> <span class="operator">=</span> <span class="name">np</span><span class="operator">.</span><span class="name">array</span><span class="punctuation">([</span><span class="literal number float">0.0</span><span class="punctuation">,</span><span class="literal number float">1.0</span><span class="punctuation">,</span><span class="literal number float">1.0</span><span class="punctuation">,</span><span class="literal number float">1.0</span><span class="punctuation">,</span><span class="literal number float">1.0</span><span class="punctuation">,</span><span class="literal number float">1.0</span><span class="punctuation">,</span><span class="literal number float">1.0</span><span class="punctuation">,</span><span class="literal number float">1.0</span><span class="punctuation">,</span><span class="literal number float">1.0</span><span class="punctuation">,</span><span class="literal number float">1.0</span><span class="punctuation">,</span><span class="literal number float">1.0</span><span class="punctuation">])</span><span class="whitespace">
</span><span class="name">x_u</span>  <span class="operator">=</span> <span class="name">np</span><span class="operator">.</span><span class="name">array</span><span class="punctuation">([</span><span class="name">infinity</span><span class="punctuation">,</span><span class="name">infinity</span><span class="punctuation">,</span><span class="name">infinity</span><span class="punctuation">,</span><span class="name">infinity</span><span class="punctuation">,</span><span class="name">infinity</span><span class="punctuation">,</span><span class="name">infinity</span><span class="punctuation">,</span><span class="whitespace">
</span>          <span class="name">infinity</span><span class="punctuation">,</span><span class="name">infinity</span><span class="punctuation">,</span><span class="name">infinity</span><span class="punctuation">,</span><span class="name">infinity</span><span class="punctuation">,</span><span class="name">infinity</span><span class="punctuation">])</span><span class="whitespace">

</span><span class="comment single"># allocate internal data and set default options</span><span class="whitespace">
</span><span class="name">options</span> <span class="operator">=</span> <span class="name">cro</span><span class="operator">.</span><span class="name">initialize</span><span class="punctuation">()</span><span class="whitespace">

</span><span class="comment single"># set some non-default options</span><span class="whitespace">
</span><span class="name">options</span><span class="punctuation">[</span><span class="literal string single">'print_level'</span><span class="punctuation">]</span> <span class="operator">=</span> <span class="literal number integer">0</span><span class="whitespace">
</span><span class="name">options</span><span class="punctuation">[</span><span class="literal string single">'symmetric_linear_solver'</span><span class="punctuation">]</span> <span class="operator">=</span> <span class="literal string single">'sytr '</span><span class="whitespace">
</span><span class="name">options</span><span class="punctuation">[</span><span class="literal string single">'unsymmetric_linear_solver'</span><span class="punctuation">]</span> <span class="operator">=</span> <span class="literal string single">'getr '</span><span class="whitespace">
</span><span class="name">options</span><span class="punctuation">[</span><span class="literal string single">'sbls_options'</span><span class="punctuation">][</span><span class="literal string single">'symmetric_linear_solver'</span><span class="punctuation">]</span> <span class="operator">=</span> <span class="literal string single">'sytr '</span><span class="whitespace">
</span><span class="name">options</span><span class="punctuation">[</span><span class="literal string single">'sbls_options'</span><span class="punctuation">][</span><span class="literal string single">'definite_linear_solver'</span><span class="punctuation">]</span> <span class="operator">=</span> <span class="literal string single">'sytr '</span><span class="whitespace">
</span><span class="name">options</span><span class="punctuation">[</span><span class="literal string single">'sbls_options'</span><span class="punctuation">][</span><span class="literal string single">'unsymmetric_linear_solver'</span><span class="punctuation">]</span> <span class="operator">=</span> <span class="literal string single">'getr '</span><span class="whitespace">
</span><span class="comment single">#print(&quot;options:&quot;, options)</span><span class="whitespace">

</span><span class="comment single"># provide optimal variables, Lagrange multipliers and dual variables</span><span class="whitespace">
</span><span class="name">x</span> <span class="operator">=</span> <span class="name">np</span><span class="operator">.</span><span class="name">array</span><span class="punctuation">([</span><span class="literal number float">0.0</span><span class="punctuation">,</span><span class="literal number float">1.0</span><span class="punctuation">,</span><span class="literal number float">1.0</span><span class="punctuation">,</span><span class="literal number float">1.0</span><span class="punctuation">,</span><span class="literal number float">1.0</span><span class="punctuation">,</span><span class="literal number float">1.0</span><span class="punctuation">,</span><span class="literal number float">1.0</span><span class="punctuation">,</span><span class="literal number float">1.0</span><span class="punctuation">,</span> <span class="literal number float">1.0</span><span class="punctuation">,</span><span class="literal number float">1.0</span><span class="punctuation">,</span><span class="literal number float">1.0</span><span class="punctuation">])</span><span class="whitespace">
</span><span class="name">c</span> <span class="operator">=</span> <span class="name">np</span><span class="operator">.</span><span class="name">array</span><span class="punctuation">([</span><span class="literal number float">10.0</span><span class="punctuation">,</span><span class="literal number float">9.0</span><span class="punctuation">,</span><span class="literal number float">10.0</span><span class="punctuation">])</span><span class="whitespace">
</span><span class="name">y</span> <span class="operator">=</span> <span class="name">np</span><span class="operator">.</span><span class="name">array</span><span class="punctuation">([</span> <span class="operator">-</span><span class="literal number float">1.0</span><span class="punctuation">,</span><span class="literal number float">1.5</span><span class="punctuation">,</span><span class="operator">-</span><span class="literal number float">2.0</span><span class="punctuation">])</span><span class="whitespace">
</span><span class="name">z</span> <span class="operator">=</span> <span class="name">np</span><span class="operator">.</span><span class="name">array</span><span class="punctuation">([</span><span class="literal number float">2.0</span><span class="punctuation">,</span><span class="literal number float">4.0</span><span class="punctuation">,</span><span class="literal number float">2.5</span><span class="punctuation">,</span><span class="literal number float">2.5</span><span class="punctuation">,</span><span class="literal number float">2.5</span><span class="punctuation">,</span><span class="literal number float">2.5</span><span class="punctuation">,</span><span class="literal number float">2.5</span><span class="punctuation">,</span><span class="literal number float">2.5</span><span class="punctuation">,</span><span class="literal number float">2.5</span><span class="punctuation">,</span><span class="literal number float">2.5</span><span class="punctuation">,</span><span class="literal number float">2.5</span><span class="punctuation">])</span><span class="whitespace">

</span><span class="comment single"># provide interior-point constraint and variable status</span><span class="whitespace">
</span><span class="name">c_stat</span> <span class="operator">=</span> <span class="name">np</span><span class="operator">.</span><span class="name">array</span><span class="punctuation">([</span><span class="operator">-</span><span class="literal number integer">1</span><span class="punctuation">,</span><span class="operator">-</span><span class="literal number integer">1</span><span class="punctuation">,</span><span class="literal number integer">1</span><span class="punctuation">])</span><span class="whitespace">
</span><span class="name">x_stat</span> <span class="operator">=</span> <span class="name">np</span><span class="operator">.</span><span class="name">array</span><span class="punctuation">([</span><span class="operator">-</span><span class="literal number integer">1</span><span class="punctuation">,</span><span class="operator">-</span><span class="literal number integer">1</span><span class="punctuation">,</span><span class="operator">-</span><span class="literal number integer">1</span><span class="punctuation">,</span><span class="operator">-</span><span class="literal number integer">1</span><span class="punctuation">,</span><span class="operator">-</span><span class="literal number integer">1</span><span class="punctuation">,</span><span class="operator">-</span><span class="literal number integer">1</span><span class="punctuation">,</span><span class="operator">-</span><span class="literal number integer">1</span><span class="punctuation">,</span><span class="operator">-</span><span class="literal number integer">1</span><span class="punctuation">,</span><span class="operator">-</span><span class="literal number integer">1</span><span class="punctuation">,</span><span class="operator">-</span><span class="literal number integer">1</span><span class="punctuation">,</span><span class="operator">-</span><span class="literal number integer">1</span><span class="punctuation">])</span><span class="whitespace">

</span><span class="comment single"># crossover from an interior-point to a basic solution</span><span class="whitespace">
</span><span class="name">x</span><span class="punctuation">,</span> <span class="name">c</span><span class="punctuation">,</span> <span class="name">y</span><span class="punctuation">,</span> <span class="name">z</span><span class="punctuation">,</span> <span class="name">x_stat</span><span class="punctuation">,</span> <span class="name">c_stat</span><span class="punctuation">,</span> <span class="name">inform</span> \
  <span class="operator">=</span> <span class="name">cro</span><span class="operator">.</span><span class="name">crossover_solution</span><span class="punctuation">(</span><span class="name">n</span><span class="punctuation">,</span> <span class="name">m</span><span class="punctuation">,</span> <span class="name">m_equal</span><span class="punctuation">,</span> <span class="name">g</span><span class="punctuation">,</span> <span class="name">H_ne</span><span class="punctuation">,</span> <span class="name">H_val</span><span class="punctuation">,</span> <span class="name">H_col</span><span class="punctuation">,</span> <span class="name">H_ptr</span><span class="punctuation">,</span><span class="whitespace">
</span>                           <span class="name">A_ne</span><span class="punctuation">,</span> <span class="name">A_val</span><span class="punctuation">,</span> <span class="name">A_col</span><span class="punctuation">,</span> <span class="name">A_ptr</span><span class="punctuation">,</span> <span class="name">c_l</span><span class="punctuation">,</span> <span class="name">c_u</span><span class="punctuation">,</span> <span class="name">x_l</span><span class="punctuation">,</span> <span class="name">x_u</span><span class="punctuation">,</span><span class="whitespace">
</span>                           <span class="name">x</span><span class="punctuation">,</span> <span class="name">c</span><span class="punctuation">,</span> <span class="name">y</span><span class="punctuation">,</span> <span class="name">z</span><span class="punctuation">,</span> <span class="name">x_stat</span><span class="punctuation">,</span> <span class="name">c_stat</span><span class="punctuation">,</span> <span class="name">options</span><span class="punctuation">)</span><span class="whitespace">
</span><span class="name builtin">print</span><span class="punctuation">(</span><span class="literal string double">&quot; x:&quot;</span><span class="punctuation">,</span><span class="name">x</span><span class="punctuation">)</span><span class="whitespace">
</span><span class="name builtin">print</span><span class="punctuation">(</span><span class="literal string double">&quot; c:&quot;</span><span class="punctuation">,</span><span class="name">c</span><span class="punctuation">)</span><span class="whitespace">
</span><span class="name builtin">print</span><span class="punctuation">(</span><span class="literal string double">&quot; y:&quot;</span><span class="punctuation">,</span><span class="name">y</span><span class="punctuation">)</span><span class="whitespace">
</span><span class="name builtin">print</span><span class="punctuation">(</span><span class="literal string double">&quot; z:&quot;</span><span class="punctuation">,</span><span class="name">z</span><span class="punctuation">)</span><span class="whitespace">
</span><span class="name builtin">print</span><span class="punctuation">(</span><span class="literal string double">&quot; x_stat:&quot;</span><span class="punctuation">,</span><span class="name">x_stat</span><span class="punctuation">)</span><span class="whitespace">
</span><span class="name builtin">print</span><span class="punctuation">(</span><span class="literal string double">&quot; c_stat:&quot;</span><span class="punctuation">,</span><span class="name">c_stat</span><span class="punctuation">)</span><span class="whitespace">
</span><span class="name builtin">print</span><span class="punctuation">(</span><span class="literal string double">&quot; number of dependent constraints:&quot;</span><span class="punctuation">,</span><span class="name">inform</span><span class="punctuation">[</span><span class="literal string single">'dependent'</span><span class="punctuation">])</span><span class="whitespace">
</span><span class="name builtin">print</span><span class="punctuation">(</span><span class="literal string single">'** cro exit status:'</span><span class="punctuation">,</span> <span class="name">inform</span><span class="punctuation">[</span><span class="literal string single">'status'</span><span class="punctuation">])</span><span class="whitespace">

</span><span class="comment single"># deallocate internal data</span><span class="whitespace">

</span><span class="name">cro</span><span class="operator">.</span><span class="name">terminate</span><span class="punctuation">()</span></code></pre>
<p>This example code is available in $GALAHAD/src/cro/Python/test_cro.py .</p>
</section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="cqp.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">CQP</p>
      </div>
    </a>
    <a class="right-next"
       href="dqp.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">DQP</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#purpose">purpose</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#terminology">terminology</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#method">method</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#matrix-storage">matrix storage</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#functions">functions</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#galahad.cro.cro.initialize"><code class="docutils literal notranslate"><span class="pre">cro.initialize()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#galahad.cro.cro.crossover_solution"><code class="docutils literal notranslate"><span class="pre">cro.crossover_solution()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#galahad.cro.cro.terminate"><code class="docutils literal notranslate"><span class="pre">cro.terminate()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#example-code">example code</a></li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">

  <div class="tocsection sourcelink">
    <a href="_sources/cro.rst.txt">
      <i class="fa-solid fa-file-lines"></i> Show Source
    </a>
  </div>
</div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="_static/scripts/bootstrap.js?digest=26a4bc78f4c0ddb94549"></script>
<script defer src="_static/scripts/pydata-sphinx-theme.js?digest=26a4bc78f4c0ddb94549"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      © Copyright Gould/Orban/Toint, for GALAHAD productions, GALAHAD 4 C/Python interfaces copyright Fowkes/Gould.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.2.6.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.16.0.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>